<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  {% block content %}
  {% load static %}

  <style>
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100vh;
      background-color: #2c3e50;
      box-shadow: 2px 0 6px rgba(0, 0, 0, 0.1);
      padding-top: 20px;
      font-family: Arial, sans-serif;
    }
  
    .sidebar h4 {
      color: #ecf0f1;
      text-align: center;
      margin-bottom: 20px;
      font-size: 20px;
    }
  
    .sidebar a {
      display: block;
      color: #ecf0f1;
      padding: 15px 20px;
      font-weight: 500;
      text-decoration: none;
      font-size: 16px;
      cursor: pointer;
    }
  
    .sidebar a:hover {
      background-color: #34495e;
      color: #1abc9c;
      border-left: 5px solid #1abc9c;
    }
  
    .dropdown-container {
      display: none;
      background-color: #34495e;
      padding-left: 20px;
    }
  
    .dropdown-container a {
      padding: 10px 20px;
      font-size: 14px;
    }
  
    .dropdown-container a:hover {
      background-color: #1abc9c;
      color: #ecf0f1;
    }
  
    .dropdown-btn::after {
      content: '\25BC';
      float: right;
      margin-right: 10px;
    }
  
    .dropdown-btn.active::after {
      content: '\25B2';
    }

    .container {
    margin-top: 20px; 
    padding: 15px;   
  }
  .card{
    background-color: #2c3e50;
  }
  h4,p{
    color: white;
  }
  p{
    font-size: 40px;
  }
  </style>
  


<div class="sidebar">
  <h4>
    <img src="{% static 'images/college-logo.png' %}" alt="Logo" width="40" height="40"> SMK
  </h4>
  <a class="dropdown-btn">Doctors</a>
  <div class="dropdown-container">
    <a href="{% url 'doctors_list' %}">View Doctors</a>
    <a href="{% url 'registration_doctor' %}">Register Doctor</a>
  </div>

  <a href="{% url 'patients_list' %}" >Patients</a>

  <a href="{% url 'total_appoinments' %}" >Appointments</a>

  <a class="dropdown-btn">Departments</a>

  <div class="dropdown-container">
    <a href="{% url 'departments' %}">View Departments</a>
    <a href="{% url 'add_departments' %}">Add Department</a>
  </div>
  <a href="{% url 'records' %}" >Records</a>

  <a href="{% url 'user_feedback' %}">User Feedback</a>

  <a href="{% url 'logout' %}">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
      <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
    </svg>
  </a>

</div>





<div class="container mt-5">
  <div class="row mt-5 justify-content-center">
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 shadow ">
            <div class="card-body text-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-people-fill" viewBox="0 0 16 16">
                <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6m-5.784 6A2.24 2.24 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.3 6.3 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1zM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"/>
              </svg>
                <br><br>
                <h4>Toatal Doctors</h4>
                <p><b data-id="total_doctors">{{ total_doctors }}</b></p>  
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 shadow ">
            <div class="card-body text-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-person-standing" viewBox="0 0 16 16">
                <path d="M8 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M6 6.75v8.5a.75.75 0 0 0 1.5 0V10.5a.5.5 0 0 1 1 0v4.75a.75.75 0 0 0 1.5 0v-8.5a.25.25 0 1 1 .5 0v2.5a.75.75 0 0 0 1.5 0V6.5a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v2.75a.75.75 0 0 0 1.5 0v-2.5a.25.25 0 0 1 .5 0"/>
              </svg>
                <br><br>
                <h4>Toatal Patients</h4>
                <p><b data-id="total_patients">{{ total_patients }}</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 shadow ">
            <div class="card-body text-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-journals" viewBox="0 0 16 16">
                <path d="M5 0h8a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2 2 2 0 0 1-2 2H3a2 2 0 0 1-2-2h1a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1H1a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v9a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1H3a2 2 0 0 1 2-2"/>
                <path d="M1 6v-.5a.5.5 0 0 1 1 0V6h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V9h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 2.5v.5H.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1H2v-.5a.5.5 0 0 0-1 0"/>
              </svg>
                <br><br>
                <h4>Toatal Appointments</h4>
                <p><b data-id="total_appointments">{{ total_appointments }}</b></p>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-lg-3 mb-4">
        <div class="card h-100 shadow ">
            <div class="card-body text-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-hospital-fill" viewBox="0 0 16 16">
                <path d="M6 0a1 1 0 0 0-1 1v1a1 1 0 0 0-1 1v4H1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h6v-2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5V16h6a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-3V3a1 1 0 0 0-1-1V1a1 1 0 0 0-1-1zm2.5 5.034v1.1l.953-.55.5.867L9 7l.953.55-.5.866-.953-.55v1.1h-1v-1.1l-.953.55-.5-.866L7 7l-.953-.55.5-.866.953.55v-1.1zM2.25 9h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5A.25.25 0 0 1 2 9.75v-.5A.25.25 0 0 1 2.25 9m0 2h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5a.25.25 0 0 1 .25-.25M2 13.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zM13.25 9h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5a.25.25 0 0 1 .25-.25M13 11.25a.25.25 0 0 1 .25-.25h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25zm.25 1.75h.5a.25.25 0 0 1 .25.25v.5a.25.25 0 0 1-.25.25h-.5a.25.25 0 0 1-.25-.25v-.5a.25.25 0 0 1 .25-.25"/>
              </svg>
                <br><br>
                <h4>Toatal Departments</h4>
                <p><b data-id="total_departments">{{ total_departments }}</b></p>    
            </div>
        </div>
    </div>
  </div>
</div>


<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Function to animate counting from 0 to a target number
    function animateCount(element, targetNumber) {
      const duration = 2000; // Animation duration in ms
      const increment = targetNumber / (duration / 50); // Increment per frame (50 fps)
      let currentCount = 0;

      const counter = setInterval(() => {
        currentCount += increment;
        if (currentCount >= targetNumber) {
          currentCount = targetNumber;
          clearInterval(counter);
        }
        element.textContent = Math.floor(currentCount); // Update the text content
      }, 50); // Update every 50ms
    }

    // Find elements and total numbers
    const totalDoctorsElement = document.querySelector("p > b[data-id='total_doctors']");
    const totalPatientsElement = document.querySelector("p > b[data-id='total_patients']");
    const totalAppointmentsElement = document.querySelector("p > b[data-id='total_appointments']");
    const totalDepartmentsElement = document.querySelector("p > b[data-id='total_departments']");

    // Initialize the count animation
    animateCount(totalDoctorsElement, parseInt(totalDoctorsElement.textContent));
    animateCount(totalPatientsElement, parseInt(totalPatientsElement.textContent));
    animateCount(totalAppointmentsElement, parseInt(totalAppointmentsElement.textContent));
    animateCount(totalDepartmentsElement, parseInt(totalDepartmentsElement.textContent));
  });
</script>


{% endblock %}
</body>
</html>


